# 要件定義チェックリスト

## 1. プロジェクト概要の確認

### 1.1 基本情報
- [x] プロジェクト名の決定
- [x] プロジェクトの目的の明確化
- [x] 背景・課題の整理
- [ ] ステークホルダーの特定
- [ ] プロジェクトスコープの確定

### 1.2 技術要件の確認
- [x] 使用技術の決定（Python + mido）
- [x] 開発環境の確認
- [x] 必要なライブラリの特定
- [x] 外部依存関係の整理
- [x] uvを使った環境構築の設定

## 2. 機能要件の詳細化

### 2.1 基本機能
- [x] システム常時起動機能の定義
- [x] MIDIデバイス検出・接続機能の定義
- [x] MIDIイベント受信・蓄積機能の定義
- [x] 自動ファイル書き出し機能の定義
- [x] メモリクリア機能の定義
- [ ] システム状態監視機能の詳細

### 2.2 データ記録機能
- [x] MIDIメッセージ種類の特定
- [x] タイムスタンプ機能の定義
- [x] MIDIファイル形式での出力定義
- [x] 自動ファイル名生成機能の定義
- [ ] メモリ効率的なデータ構造の詳細
- [ ] イベントバッファの詳細仕様
- [ ] ローカルストレージ保存機能
- [ ] ネットワークストレージ保存機能（将来拡張予定）

### 2.3 自動化機能
- [x] 一定時間イベントなし検出機能の定義
- [x] 自動ファイル書き出し処理の定義
- [x] 書き出し後のメモリクリア機能の定義
- [x] 次のイベント受信時の自動記録再開機能の定義
- [ ] タイマー機能の詳細仕様

### 2.4 設定・カスタマイズ機能
- [x] デバイス選択機能の定義
- [x] 出力設定機能の定義
- [x] イベントなし検出時間の設定機能の定義
- [ ] ファイル名形式の設定詳細
- [ ] ログ設定の詳細

### 2.5 GUI機能
- [x] 手動保存ボタンの配置
- [x] 現在の録音状態の表示
- [x] 手動保存時のファイル名指定機能
- [x] 手動保存先ディレクトリの設定
- [x] 保存完了時のフィードバック表示
- [x] GUIライブラリの選択（flet）
- [ ] GUIレイアウトの詳細設計
- [ ] エラーハンドリングの実装

## 3. 非機能要件の詳細化

### 3.1 性能要件
- [x] 常時起動要件の定義（24時間365日動作）
- [x] メモリ効率要件の定義（最大1GBまでのメモリ使用量）
- [x] 安定性要件の定義（長時間連続動作）
- [x] メモリ使用量の具体的な制限（1GB）
- [ ] 処理能力の具体的な要件

### 3.2 互換性要件
- [x] 複数MIDIデバイス対応の定義
- [x] 複数OS対応の定義
- [ ] 特定のMIDIデバイスでの動作確認
- [ ] バージョン互換性の要件

### 3.3 ユーザビリティ要件
- [x] システム状態監視機能の基本要件
- [x] ログ出力による動作状況把握の要件
- [ ] エラー表示の詳細要件
- [ ] 設定変更機能の要件

## 4. 技術仕様の詳細化

### 4.1 システムアーキテクチャ
- [x] 全体構成の定義
- [x] コンポーネント構成の定義
- [ ] 詳細なクラス設計
- [ ] データフローの詳細設計

### 4.2 データ構造
- [x] MIDIメッセージ構造の定義
- [x] イベントバッファ構造の定義
- [x] 記録データ構造の定義
- [ ] ファイルフォーマットの詳細仕様
- [ ] メモリ管理の詳細仕様

### 4.3 実装詳細
- [x] MIDI受信処理の基本設計
- [x] 自動ファイル書き出し処理の基本設計
- [x] システム監視処理の基本設計
- [ ] タイマー機能の詳細実装
- [ ] エラーハンドリングの詳細

## 5. 開発計画の詳細化

### 5.1 フェーズ分け
- [x] 開発フェーズの定義
- [x] 各フェーズの目標設定
- [ ] 詳細なスケジュール作成
- [ ] リソース配分の計画

### 5.2 品質保証
- [x] テスト戦略の定義
- [x] 品質基準の設定
- [ ] 詳細なテスト計画
- [ ] 品質保証プロセスの定義

## 6. リスク分析の詳細化

### 6.1 技術リスク
- [x] 主要な技術リスクの特定
- [x] リスク対策の基本方針
- [ ] 詳細なリスク対策計画
- [ ] リスク監視体制の構築

### 6.2 プロジェクトリスク
- [x] スケジュールリスクの特定
- [x] リソースリスクの特定
- [ ] 詳細なリスク対策計画
- [ ] リスク管理プロセスの定義

## 7. 次のアクション

### 7.1 即座に実行可能
- [ ] **環境セットアップ**
  - midoライブラリのインストール確認
  - 開発環境の構築
  - uvを使った環境構築の設定
- [ ] **プロトタイプ開発**
  - 基本的なMIDI監視機能の実装
  - タイマー機能の実装
  - 自動ファイル書き出し機能の実装
- [ ] **詳細設計**
  - クラス設計の詳細化
  - データ構造の詳細化
- [ ] **ドキュメント整備**
  - API仕様書の作成
  - テスト計画書の作成
  - 運用マニュアルの作成
  - 開発者ガイドの作成

### 7.2 並行して進める
- [ ] **テスト計画の詳細化**
  - 単体テスト計画
  - 統合テスト計画
  - 長時間動作テスト計画
- [ ] **設定ファイル設計**
  - 設定項目の詳細化
  - 設定ファイル形式の決定
- [ ] **ドキュメント作成**
  - API仕様書
  - 運用マニュアル
  - 開発者ガイド

## 8. 承認・確認事項

### 8.1 ステークホルダー確認
- [ ] プロジェクトスポンサーの承認
- [ ] 技術チームの確認
- [ ] ユーザー代表の確認
- [ ] 運用チームの確認

### 8.2 ドキュメント承認
- [ ] 要件定義書の承認
- [ ] 技術仕様書の承認
- [ ] ユースケース定義の承認
- [ ] リスク分析書の承認

## 9. 進捗管理

### 9.1 定期的な確認事項
- [ ] 週次進捗確認
- [ ] 月次要件見直し
- [ ] リスク状況の定期確認
- [ ] 品質指標の定期確認

### 9.2 変更管理
- [ ] 要件変更プロセスの定義
- [ ] 変更影響度評価プロセス
- [ ] 承認プロセスの定義
- [ ] 変更履歴の管理 
